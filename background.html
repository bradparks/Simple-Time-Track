<script>

chrome.browserAction.onClicked.addListener(function(tab){
	var theChromeURL="popup.html";
	chrome.tabs.getAllInWindow(null,function(tabs){
		for (var i=0;i<tabs.length;i++){
			if (tabs[i].url == theChromeURL){
				chrome.tabs.update(tabs[i].id, {selected:true})
				return;
			}
		}
		chrome.tabs.create({url:theChromeURL,selected:true})
	})
})
</script>